<html>
  <head>
    <title>Sand Game</title>
  </head>

  <body>
    <canvas></canvas>

    <script type="application/javascript" src="lib/game.js"></script>
    <script type="application/javascript" src="lib/gameView.js"></script>
    <script type="application/javascript" src="lib/sandParticle.js"></script>
    <script type="application/javascript" src="lib/solidParticle.js"></script>

    <script type="application/javascript">
      (function () {
        var canvasEl = document.getElementsByTagName("canvas")[0];
        canvasEl.width = SandGame.Game.DIM_X;
        canvasEl.height = SandGame.Game.DIM_Y;

        var ctx = canvasEl.getContext("2d");
        var game = new SandGame.Game();
        new SandGame.GameView(game, ctx).start();

        canvasEl.onmousedown = function(event){
          game.mouseDown();
        };

        canvasEl.onmousemove = function(event){
          game.moveMouse(event.x, event.y);
        };

        canvasEl.onmouseup = function(event){
          game.mouseUp();
        };

        this.onkeypress = function(event){
          if (String.fromCharCode(event.charCode) === "t"){
            console.log("hi")
            game.toggleSolid();
          }
        }
      })();
    </script>
  </body>
</html>
